let input = 
`#.###########################################################################################################################################
#.###.......#...#...#.....###...#...............###...#####...#...#...#...#...#.....#...#.........#.........#...........#...###...#.........#
#.###.#####.#.#.#.#.#.###.###.#.#.#############.###.#.#####.#.#.#.#.#.#.#.#.#.#.###.#.#.#.#######.#.#######.#.#########.#.#.###.#.#.#######.#
#...#.....#...#.#.#.#...#...#.#.#.......#.......#...#...###.#.#.#.#.#.#.#.#.#...#...#.#.#.......#.#.#.......#.........#.#.#.###.#.#.#.......#
###.#####.#####.#.#.###.###.#.#.#######.#.#######.#####.###.#.#.#.#.#.#.#.#.#####.###.#.#######.#.#.#.###############.#.#.#.###.#.#.#.#######
#...#.....#...#...#...#...#.#.#.#...###.#.....###.#.....#...#.#.#.#.#.#.#.#.#.....###.#.#.......#.#.#.....###.........#.#.#.....#.#.#.#...###
#.###.#####.#.#######.###.#.#.#.#.#.###.#####.###.#.#####.###.#.#.#.#.#.#.#.#.#######.#.#.#######.#.#####.###.#########.#.#######.#.#.#.#.###
#...#.#.....#.........#...#...#...#.>.>.#.....#...#.#...#.#...#.#...#.#.#.#.#.....#...#.#.......#.#.#.....#...#.....#...#.......#...#...#...#
###.#.#.###############.#############v###.#####.###.#.#.#.#.###.#####.#.#.#.#####.#.###.#######.#.#.#.#####.###.###.#.#########.###########.#
###...#...........#...#...........###...#...###...#.#.#.#.#.###.#.....#.#...#.....#...#.#...###.#.#.#.#...#.....#...#.#...#...#.#...........#
#################.#.#.###########.#####.###.#####.#.#.#.#.#.###.#.#####.#####.#######.#.#.#.###.#.#.#.#.#.#######.###.#.#.#.#.#.#.###########
#.................#.#.#...#.......#.....###.#...#.#...#...#.>.>.#.....#.#...#.#...#...#.#.#.#...#.#.#.#.#.#...###...#.#.#.#.#.#.#.......#####
#.#################.#.#.#.#.#######.#######.#.#.#.###########v#######.#.#.#.#.#.#.#.###.#.#.#.###.#.#.#.#.#.#.#####.#.#.#.#.#.#.#######.#####
#.................#.#.#.#.#.......#.#...###...#.#...#.........###.....#.#.#...#.#.#...#.#.#.#...#.#.#.#.#.#.#.#.>.>.#...#.#.#.#.#.....#.....#
#################.#.#.#.#.#######.#.#.#.#######.###.#.###########.#####.#.#####.#.###.#.#.#.###.#.#.#.#.#.#.#.#.#v#######.#.#.#.#.###.#####.#
#.................#.#.#.#.#...#...#...#.......#...#.#...........#...#...#...#...#.###.#.#.#.#...#.#.#.#.#...#...#.......#...#...#...#.#.....#
#.#################.#.#.#.#.#.#.#############.###.#.###########.###.#.#####.#.###.###.#.#.#.#.###.#.#.#.###############.###########.#.#.#####
#...#.......#...###.#.#.#.#.#...#.............###.#...#.......#...#.#.#.....#...#.#...#.#.#.#.###...#.#.#.....###.....#...#.....###.#...#####
###.#.#####.#.#v###.#.#.#.#.#####.###############.###.#.#####.###.#.#.#.#######.#.#.###.#.#.#.#######.#.#.###.###.###.###.#.###.###.#########
###...#...#...#.>.#.#.#.#.#.#...#.............###.....#.#...#.....#...#.#.>.>...#.#...#...#.#.....#...#.#...#...#...#.#...#...#.#...###...###
#######.#.#####v#.#.#.#.#.#.#.#.#############.#########.#.#.###########.#.#v#####.###.#####.#####.#.###.###.###.###.#.#.#####.#.#.#####.#.###
#.......#.......#...#.#.#...#.#.....#...#...#.....###...#.#...........#.#.#.....#...#.#...#.#...#.#.#...###...#.....#...#.....#...#.....#...#
#.###################.#.#####.#####.#.#.#.#.#####.###.###.###########.#.#.#####.###.#.#.#.#.#.#.#.#.#.#######.###########.#########.#######.#
#.#.....#...........#...#...#.....#.#.#.#.#.#...#...#.....#.........#.#...#.....###...#.#.#...#...#...###...#.......#...#...........#...#...#
#.#.###.#.#########.#####.#.#####.#.#.#.#.#.#.#.###.#######.#######.#.#####.###########.#.###############.#.#######.#.#.#############.#.#.###
#.#.#...#.#...#.....#.....#.......#...#...#...#.....#...###.......#.#.....#...###.......#...#...#...#...#.#.........#.#.#...#.....#...#...###
#.#.#.###.#.#.#.#####.###############################.#.#########.#.#####.###.###.#########.#.#.#.#.#.#.#.###########.#.#.#.#.###.#.#########
#...#.....#.#.#.....#.#...........................#...#...#...#...#.......###...#.......#...#.#.#.#.#.#.#.....#.....#.#...#.#.#...#.........#
###########.#.#####.#.#.#########################.#.#####.#.#.#.###############.#######.#.###.#.#.#.#.#.#####.#.###.#.#####.#.#.###########.#
#.......#...#.....#.#...#...........#...#...#.....#.....#...#.#.......#...#...#...#...#.#.###.#.#.#.#.#.#...#.#...#.#...#...#.#.#...#...#...#
#.#####.#.#######.#.#####.#########.#.#.#.#.#.#########.#####.#######.#.#.#.#.###.#.#.#.#.###.#.#.#.#.#.#.#.#v###.#.###.#.###.#.#.#.#v#.#.###
#.....#.#.......#...#...#.........#.#.#.#.#...###.......#...#.........#.#.#.#.....#.#...#...#.#.#.#...#.#.#.>.>...#.#...#.#...#.#.#.>.#...###
#####.#.#######.#####.#.#########.#.#.#.#.#######.#######.#.###########.#.#.#######.#######.#.#.#.#####.#.###v#####.#.###.#.###.#.###v#######
#...#.#.........#...#.#.#...#.....#.#.#.#...#...#.......#.#...#...#...#.#...#...###.....#...#.#.#.#.....#.#...#...#.#...#...#...#.#...###...#
#.#.#.###########.#.#.#.#.#.#.#####.#.#.###.#.#.#######.#.###.#.#.#.#.#.#####.#.#######.#.###.#.#.#.#####.#.###.#.#.###.#####.###.#.#####.#.#
#.#...#...#...###.#.#.#.#.#.#.....#...#.....#.#.#.....#...###...#.#.#.#.......#.#.....#.#.....#...#.......#.....#.#.#...#.....#...#...###.#.#
#.#####.#v#.#.###.#.#.#.#.#.#####.###########.#.#.###.###########.#.#.#########.#.###.#.#########################.#.#.###.#####.#####.###.#.#
#.#...#.#.>.#...#.#.#.#.#.#.#.....#...#...###.#.#...#.###...#...#...#.#...#...#.#...#.#.........#.......###...#...#.#...#.#...#.....#.....#.#
#.#.#.#.#v#####.#.#.#.#.#.#.#v#####.#.#.#.###.#.###.#.###.#.#.#.#####.#.#.#.#.#v###.#.#########.#.#####.###.#.#.###.###.#.#.#.#####.#######.#
#...#...#.....#...#.#.#.#.#.>.>.#...#.#.#...#.#...#.#.#...#.#.#.#.....#.#...#.>.>.#.#...#.......#.....#.#...#.#...#.#...#...#.......#.......#
#############.#####.#.#.#.###v#.#.###.#.###.#.###.#.#.#.###.#.#.#.#####.#######v#.#.###.#.###########.#.#.###.###.#.#.###############.#######
#.............#...#.#.#.#.###.#.#.#...#.#...#.#...#.#.#...#.#.#.#.#...#...#.....#...###.#.....#.......#.#...#.#...#.#.#.............#...#...#
#.#############.#.#.#.#.#.###.#.#.#.###.#.###.#.###.#.###.#.#.#.#v#.#.###.#.###########.#####.#.#######.###.#.#.###.#.#.###########.###.#.#.#
#...#...#...###.#.#...#.#.#...#...#.#...#.....#.#...#.#...#.#.#.>.>.#.....#...#...#...#.......#...#...#.#...#.#...#.#.#.#.....#...#.....#.#.#
###.#.#.#.#.###.#.#####.#.#.#######.#.#########.#.###.#.###.#.###v###########.#.#.#.#.###########.#.#.#.#.###.###.#.#.#.#.###.#.#.#######.#.#
###...#...#...#.#.###...#.#.#.....#...#.....#...#...#...###...###.....#.....#...#...#.....#...#...#.#.#...###.....#...#...###...#...#.....#.#
#############.#.#.###.###.#.#.###.#####.###.#.#####.#################.#.###.#############.#.#.#.###.#.#############################.#.#####.#
#.............#.#...#.....#.#.#...#...#...#.#.......###...#...#...#...#...#.#.............#.#...#...#.................#.............#.#.....#
#.#############.###.#######.#.#.###.#.###.#.###########.#.#.#.#.#.#.#####.#.#.#############.#####.###################.#.#############.#.#####
#...........#...###.....###...#...#.#.#...#...###...#...#.#.#...#...#.....#.#.............#.#...#.#...........#...#...#.....#...#.....#.....#
###########.#.#########.#########.#.#.#.#####.###.#.#.###.#.#########.#####.#############.#.#.#.#.#.#########.#.#.#.#######.#.#.#.#########.#
#...........#.#.........#...#...#...#...#.....#...#...#...#.........#.....#...............#...#...#.........#...#...#...###...#...#.........#
#.###########.#.#########.#.#.#.#########v#####.#######.###########.#####.#################################.#########.#.###########.#########
#...#.........#.........#.#.#.#.#.......>.>...#...#.....#.....#...#...#...#...................#...###.....#.#...#...#.#.#...#.....#.#.......#
###.#.#################.#.#.#.#.#.#######v###.###.#.#####v###.#.#.###.#.###.#################.#.#.###.###.#.#.#.#.#.#.#.#.#.#.###.#.#.#####.#
###...#...#...#...#...#.#.#...#.#.#.....#.###...#.#.#...>.>.#...#.....#...#.#.....#...........#.#.#...###...#.#.#.#.#.#.#.#.#...#.#...#.....#
#######.#.#.#.#.#.#.#.#.#.#####.#.#.###.#.#####.#.#.#.###v#.#############.#.#.###.#.###########.#.#.#########.#.#.#.#.#.#.#.###.#.#####.#####
#...#...#...#...#...#...#.....#...#...#.#.#.....#.#.#.#...#.#.....#.....#...#...#.#.....#...###.#.#.........#.#.#.#.#.#.#.#.#...#...#...#...#
#.#.#.#######################.#######.#.#.#.#####.#.#.#.###.#.###.#.###.#######.#.#####.#.#.###.#.#########.#.#.#.#.#.#.#.#.#.#####.#.###.#.#
#.#...#...............###...#...#.....#.#.#.#...#.#.#.#...#.#.#...#.#...#...#...#.......#.#.#...#.###.......#.#.#.#.#.#.#.#.#.....#.#...#.#.#
#.#####.#############.###.#.###.#.#####.#.#.#.#.#.#.#.###.#.#.#.###.#.###.#.#.###########.#.#.###.###v#######.#.#.#.#.#.#.#.#####.#.###v#.#.#
#.#...#.#.............#...#.....#.....#...#.#.#.#.#...#...#...#.....#...#.#.#.......#...#.#.#...#.#.>.>...#...#.#.#.#.#.#.#...#...#...>.#.#.#
#.#.#.#.#.#############.#############.#####.#.#.#.#####.###############.#.#.#######.#.#.#.#.###.#.#.#v###.#.###.#.#.#.#.#.###.#.#######v#.#.#
#...#...#...........###.......#...#...#...#...#.#.#.....#...###.........#.#.###...#.#.#.#.#.#...#...#...#.#.###...#.#.#...###...###...#...#.#
###################v#########.#.#.#.###.#.#####.#.#.#####.#.###.#########.#.###.#.#v#.#.#.#.#.#########.#.#.#######.#.#############.#.#####.#
#.................#.>.#...#...#.#.#.....#...###...#.....#.#...#.........#.#.....#.>.>.#.#.#.#.......###.#...#...#...#...#...#...#...#.#...#.#
#.###############.#v#.#.#.#.###.#.#########.###########.#.###.#########.#.#########v###.#.#.#######.###.#####.#.#.#####.#.#.#.#.#.###.#.#.#.#
#.......#.......#...#...#.#.#...#.....#.....#...#.......#...#...#.....#.#.#.........#...#.#.#.....#.#...#...#.#.#...#...#.#.#.#.#...#.#.#...#
#######.#.#####.#########.#.#.#######.#.#####.#.#.#########.###.#.###.#.#.#.#########.###.#.#.###.#.#.###.#.#.#.###.#.###.#.#.#.###.#.#.#####
#.......#.#.....#.......#.#.#...#...#...#####.#.#...........###...#...#.#.#...#.....#...#.#.#...#...#...#.#.#.#...#.#.#...#...#.....#.#.....#
#.#######.#.#####.#####.#.#.###.#.#.#########.#.###################.###.#.###.#.###.###.#.#.###.#######.#.#.#.###.#.#.#.#############.#####.#
#...#.....#.......#.....#.#.#...#.#...........#.....#...............###...###...###...#.#.#.....#...###...#...#...#...#.#...#.......#.#...#.#
###.#.#############.#####.#.#.###.#################.#.###############################.#.#.#######.#.###########.#######.#.#.#.#####.#.#.#.#.#
#...#.#.............#...#...#...#.#...#.....#.......#.......................###.......#.#.#.....#.#.#####.......#...###...#.#.#.....#...#.#.#
#.###.#.#############.#.#######.#.#.#.#.###.#.#############################.###.#######.#.#.###.#.#.#####.#######.#.#######.#.#.#########.#.#
#.....#...............#...#...#...#.#...###...#...#...#...#.................#...#...###...#.#...#.#.#.....#...###.#.###...#...#.........#.#.#
#########################.#.#.#####.###########.#.#.#.#.#.#.#################.###.#.#######.#.###.#.#.#####.#.###.#.###.#.#############.#.#.#
###...###...#.............#.#.#...#.......#...#.#.#.#...#.#.................#...#.#...###...#...#.#.#.....#.#.#...#.....#.#.............#.#.#
###.#.###.#.#.#############.#.#.#.#######.#.#.#.#.#.#####.#################.###.#.###.###.#####.#.#.#####.#.#.#.#########.#.#############.#.#
#...#.....#...#.......#...#.#...#.........#.#.#.#.#.....#.#...###...........###...###...#.....#.#.#.#...#...#...#.........#.............#.#.#
#.#############.#####.#.#.#.###############.#.#.#.#####.#.#.#.###v#####################.#####.#.#.#.#.#.#########v#####################.#.#.#
#.........#...#.#.....#.#.#.#...#.........#.#.#.#...#...#.#.#...>.>.###...###...#...###.#...#.#.#.#.#.#...#...#.>.>.......#.............#...#
#########.#.#.#.#.#####.#.#.#.#.#.#######.#.#.#.###.#.###.#.#####v#.###.#.###.#.#.#.###v#.#.#.#.#.#.#.###.#.#.#.#v#######.#.#################
#...#...#...#...#...###.#.#...#.#.#.......#.#.#.###...###...#...#.#.#...#...#.#.#.#.#.>.>.#...#.#.#.#...#.#.#...#.#.......#.........###.....#
#.#.#.#.###########v###.#.#####.#.#.#######.#.#.#############.#.#.#.#.#####.#.#.#.#.#.#v#######.#.#.###.#.#.#####.#.###############.###.###.#
#.#.#.#...###...###.>...#...###...#.#...#...#.#...#...#...#...#.#.#.#.....#...#...#...#.....#...#.#.#...#...#...#.#.#...###...#...#...#.#...#
#.#.#.###.###.#.###v#######.#######.#.#.#.###.###.#.#.#.#.#.###.#.#.#####.#################.#.###.#.#.#######.#.#.#.#.#.###.#.#.#.###.#.#.###
#.#.#...#.#...#.#...#.......#...###.#.#.#.#...#...#.#...#...#...#.#.#...#.#...........#...#.#.....#.#.#.......#.#.#.#.#...#.#.#.#.....#.#.###
#.#.###.#.#.###.#.###.#######.#.###v#.#.#.#.###.###.#########.###.#.#.#.#.#.#########.#.#.#.#######.#.#.#######.#.#.#.###.#.#.#v#######.#.###
#.#.#...#.#...#.#...#...#.....#...>.>.#.#.#.....###.........#...#.#...#...#.........#...#.#.......#.#.#.#.....#...#...###.#.#.>.#.......#...#
#.#.#.###.###.#.###.###.#.#########v###.#.#################.###.#.#################.#####.#######.#.#.#.#.###.###########.#.###v#.#########.#
#.#.#...#.#...#.....###.#.#.......#...#.#.....#...........#...#.#...#.........#...#.....#.#.......#...#...###...#...#...#.#.###...#.........#
#.#.###.#.#.###########.#.#.#####.###.#.#####.#.#########.###.#.###.#.#######.#.#.#####.#.#.###################.#.#.#.#.#.#.#######.#########
#.#.....#.#...........#...#...###.....#...#...#.........#.#...#.....#.......#...#...#...#.#.......#...#.....###...#...#.#.#.#.......###.....#
#.#######.###########.#######.###########.#.###########.#.#.###############.#######.#.###.#######.#.#.#.###.###########.#.#.#.#########.###.#
#...#...#...#.........#.......#...###...#.#.#...#.......#...#...###.....###.......#.#...#.#...#...#.#...#...#.......#...#.#.#.....#...#.#...#
###.#.#.###.#.#########.#######.#.###.#.#.#.#.#.#.###########.#.###.###.#########.#.###.#.#.#.#.###.#####.###.#####.#.###.#.#####.#.#.#.#.###
###...#...#...#...#...#.........#.#...#.#...#.#.#.............#...#...#.#.........#.....#...#...###.....#.....#...#.#...#...#...#...#...#...#
#########v#####.#.#.#.###########.#.###.#####.#.#################.###.#.#.#############################.#######.#.#.###.#####.#.###########.#
#.......#.>.#...#.#.#.#...........#...#.#...#.#.#...#.............#...#.#...........#.....#.....###...#.........#.#...#.#.....#...#...#.....#
#.#####.#v#.#.###.#.#.#.#############.#.#.#.#.#.#.#.#.#############.###.###########.#.###.#.###.###.#.###########.###.#.#.#######.#.#.#.#####
#.....#...#.#.#...#.#.#.........#...#.#.#.#.#.#.#.#.#.........#...#.#...#####.......#...#.#.#...#...#.#.........#...#...#.....###...#.#.....#
#####.#####.#.#.###.#.#########.#.#.#.#.#.#.#.#.#.#.#########.#.#.#.#.#######.#########.#.#.#.###.###.#.#######.###.#########.#######.#####.#
#.....#...#...#...#.#.###.......#.#.#.#.#.#.#.#.#.#.#.........#.#.#.#...#.....#...#...#.#.#.#.###...#.#.......#...#...###...#.......#.#...#.#
#.#####.#.#######.#.#.###.#######.#.#.#.#.#.#.#.#.#.#v#########.#.#.###.#.#####.#.#.#.#.#.#.#.#####.#.#######.###.###.###.#.#######.#.#.#.#.#
#.......#.#.....#...#...#.....###.#.#.#.#.#.#.#.#.#.>.>.....#...#.#...#.#.......#.#.#.#.#.#.#...#...#.#...#...###.....#...#.#.......#...#.#.#
#########.#.###.#######.#####.###.#.#.#.#.#.#.#.#.###v#####.#.###.###.#.#########.#.#.#.#.#.###.#.###.#.#.#.###########.###.#.###########.#.#
#...#...#.#...#.........###...#...#.#.#.#.#.#.#...###...#...#...#.###.#.#...#.....#.#.#.#.#.#...#...#.#.#.#.###...#...#...#.#.....#...###...#
#.#.#.#.#.###.#############.###.###.#.#.#.#.#.#########.#.#####.#.###.#.#.#.#v#####.#.#.#.#.#.#####.#.#.#.#v###.#.#.#.###.#.#####.#.#.#######
#.#...#.#...#.#...#...#...#...#...#.#.#...#.#.#.........#.....#.#...#.#.#.#.>.>.#...#.#.#.#.#.#...#.#.#.#.>.>.#.#.#.#.###.#.#.....#.#.......#
#.#####.###.#.#.#.#.#.#.#.###v###.#.#.#####.#.#.#############.#.###.#.#.#.###v#.#.###.#.#.#.#.#.#.#.#.#.###v#.#.#.#.#.###.#.#v#####.#######.#
#.....#.....#...#.#.#.#.#.#.>.>...#.#...###...#.............#.#.###.#.#...#...#.#.###.#.#.#.#.#.#...#...#...#.#.#.#.#.#...#.>.###...#.......#
#####.###########.#.#.#.#.#.#v#####.###.###################.#.#.###.#.#####.###.#.###.#.#.#.#.#.#########.###.#.#.#.#.#.#####v###.###.#######
#...#.....#.....#.#.#.#.#...#.....#.....#...#...............#...###...#...#.###...#...#.#...#...###...#...###.#.#.#.#.#.#.....###.#...###...#
#.#.#####.#.###.#.#.#.#.#########.#######.#.#.#########################.#.#.#######.###.###########.#.#.#####.#.#.#.#.#.#.#######.#.#####.#.#
#.#.......#.#...#.#.#.#.#.........#.......#.#...........###...#.........#.#.......#.#...#...........#...#...#.#.#.#.#...#...#...#.#.#...#.#.#
#.#########.#.###.#.#.#.#.#########.#######.###########.###.#.#.#########.#######.#.#.###.###############.#.#.#.#.#.#######.#.#.#.#.#.#.#.#.#
#...........#.###...#...#...........#...#...###.......#.....#.#.........#.........#...###.................#.#.#.#.#...#...#...#...#...#...#.#
#############.#######################.#.#.#####.#####.#######.#########.###################################.#.#.#.###.#.#.#################.#
#.......#...#...#...................#.#...#...#.....#.....#...#.....#...#.......#.....#...#.................#.#.#.....#.#.......#...#.....#.#
#.#####.#.#.###.#.#################.#.#####.#.#####.#####.#.###.###.#.###.#####.#.###.#.#.#.#################.#.#######.#######.#.#.#.###.#.#
#.....#...#.....#.....#.....#.....#.#...###.#.#####.....#...###...#.#.....#.....#.#...#.#.#.....#.........###...###...#...#...#.#.#...###...#
#####.###############.#.###.#.###.#.###.###.#.#########.#########.#.#######.#####.#.###.#.#####.#.#######.#########.#.###.#.#.#.#.###########
#.....#.............#.#.#...#.#...#.....#...#...#...###.......#...#.###...#.......#.....#.....#...###.....#.....#...#.###...#.#.#...........#
#.#####.###########.#.#.#.###.#.#########.#####.#.#.#########.#.###.###.#.###################.#######.#####.###.#.###.#######.#.###########.#
#...#...#...........#...#.....#.......#...#.....#.#...........#...#...#.#.......#.............#.....#.....#.#...#.#...#...#...#.............#
###.#.###.###########################.#.###.#####.###############.###.#.#######.#.#############.###.#####.#.#.###.#.###.#.#.#################
#...#.#...#.......#...###.............#...#...#...#.........#...#.#...#.......#.#.....###.....#...#.......#.#.....#.###.#.#...#.........#...#
#.###.#.###.#####.#.#.###.###############.###.#.###.#######.#.#.#.#.#########.#.#####.###.###.###.#########.#######.###.#.###.#.#######.#.#.#
#.....#...#.#.....#.#...#.......###...###...#.#.....###.....#.#.#.#.#...###...#.......#...#...###.........#.#.....#...#.#...#...#.....#...#.#
#########.#.#.#####.###.#######.###.#.#####.#.#########v#####.#.#.#.#.#.###v###########.###.#############.#.#.###.###.#.###.#####.###.#####.#
#.........#.#...###...#.#...#...#...#...#...#.#...#...>.>.#...#.#.#.#.#.#.>.>.#...#...#.#...#...###.......#.#...#.....#.#...#.....###.......#
#.#########.###.#####.#.#.#.#.###.#####.#.###.#.#.#.#####.#.###.#.#.#.#.#.###.#.#.#.#.#.#.###.#.###.#######.###.#######.#.###.###############
#.#...#...#.###...###.#.#.#.#...#.....#.#...#.#.#.#...###.#...#.#.#.#.#.#.###...#.#.#.#.#...#.#...#.....###...#.#.....#.#...#.........###...#
#.#.#.#.#.#.#####.###.#.#.#.###v#####.#.###.#.#.#.###.###.###.#.#.#.#.#.#.#######.#.#.#.###.#.###.#####.#####.#.#.###.#.###.#########.###.#.#
#.#.#.#.#.#...###...#.#.#.#.#.>.>...#.#...#.#.#.#.#...#...#...#.#.#...#.#.#...#...#.#.#.#...#.#...#...#.#...#.#.#.#...#.#...#...#...#.#...#.#
#.#.#.#.#.###.#####.#.#.#.#.#.#####.#.###.#.#.#.#.#.###.###.###.#.#####.#.#.#.#.###.#.#.#.###.#.###.#.#v#.#.#.#.#.#.###.#.###.#.#v#.#.#.###.#
#.#.#.#.#...#.#.....#.#.#.#.#.....#.#.#...#.#.#.#.#.###...#.###.#.#.....#.#.#...#...#.#.#...#.#...#.#.>.>.#.#.#.#.#...#.#.#...#.>.#...#...#.#
#.#.#.#.###.#.#.#####.#.#.#.#####.#.#.#.###.#.#.#.#.#####.#.###.#.#.#####.#.#####.###.#.###.#.###.#.#######.#.#.#.###.#.#.#.#####v#######.#.#
#...#...###...#.......#...#.......#...#.....#...#...#####...###...#.......#.......###...###...###...#######...#...###...#...#####.........#.#
###########################################################################################################################################.#`;
let data = input.split("\n").map(l=>l.split(''));

let points = [];

for(let i =0;i<data.length;i++){
    for(let j=0;j<data[i].length;j++){
        if(data[i][j] !='#'){
            points.push({i:i,j:j, symbol:data[i][j], neighbours:[]});
        }
    }
}

let startP = points[0];
let endP = points[points.length - 1];

let possibleLenghts =[];
   
let length = dzigstra(startP.i,startP.j, [startP]);


function dzigstra(i,j, path){
   // console.log("i: ", i, " " , "j: ", j);

    let prevNeighbour = path[path.length-2];
    if(endP.i == i && endP.j == j){
        possibleLenghts.push(path.length-1);


        let tempD = [...data];
        path.forEach(point=>{
            tempD[point.i][point.j] = "O";
        })
        let str = "";
        tempD.forEach(l =>{
            str+=l.join("") + "\n";
        });

        //console.log(str);

        console.log(path.length-1);
    }

    let neighbours = getNeighbours(i,j);
    if(neighbours.length == 0){
        console.log("E");
    }

    if(neighbours.length > 2){
       // console.log(neighbours);
    }

    neighbours.forEach(neighbour =>{
        if(!prevNeighbour || (neighbour.i != prevNeighbour.i || neighbour.j != prevNeighbour.j)){
            let di = neighbour.i - i;
            let dj = neighbour.j - j;
            let canPass = true;
            if(neighbour.symbol != "."){
                if(dj == 1 && neighbour.symbol != ">"){
                    canPass = false;
                }
                if(dj == -1 && neighbour.symbol != "<"){
                    canPass = false;
                }
                if(di == 1 && neighbour.symbol != "v"){
                    canPass = false;
                }
                
                if(di == -1 && neighbour.symbol != "^"){
                    canPass = false;
                }
            }
            
            if(canPass){
                dzigstra(neighbour.i, neighbour.j, [...path, neighbour]);                
            }
        }
    })
}

function getNeighbours(ni,nj){
    let res =[];
    points.forEach(point =>{
        if(point.i-1 == ni && point.j == nj){
            res.push(point);
        }

        if(point.i+1 == ni && point.j == nj){
            res.push(point);
        }

        if(point.i == ni && point.j-1 == nj){
            res.push(point);
        }
        if(point.i == ni && point.j+1 == nj){
            res.push(point);
        }
    })
    return res;
}




